<!DOCTYPE html>
<html lang="bn">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>SLSH ONLINE - ইউনিয়ন কন্ট্রোল সেন্টার</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <script src="https://unpkg.com/lucide@latest"></script>
    <style>
        @font-face {
            font-family: 'iOS Bangla';
            src: url('../assets/fonts/iOS Bangla Font.ttf') format('truetype');
        }

        :root {
            --bg-dark: #020408;
            --glass: rgba(255, 255, 255, 0.02);
            --glass-border: rgba(255, 255, 255, 0.07);
            --accent-blue: #3b82f6;
            --accent-purple: #a855f7;
            --gold: #d4af37;
        }

        body {
            background-color: var(--bg-dark);
            color: #e2e8f0;
            font-family: 'iOS Bangla', sans-serif;
            background-image: 
                radial-gradient(circle at 0% 0%, rgba(168, 85, 247, 0.05) 0%, transparent 40%),
                radial-gradient(circle at 100% 100%, rgba(59, 130, 246, 0.05) 0%, transparent 40%);
            min-height: 100vh;
        }

        .glass-card {
            background: var(--glass);
            backdrop-filter: blur(20px);
            border: 1px solid var(--glass-border);
            border-radius: 24px;
            transition: all 0.4s cubic-bezier(0.4, 0, 0.2, 1);
        }

        /* Item Removal Animation */
        .remove-anim {
            animation: slideOutShrink 0.5s ease forwards;
            pointer-events: none;
        }

        @keyframes slideOutShrink {
            0% { transform: translateX(0); opacity: 1; }
            50% { transform: translateX(50px); opacity: 0.5; }
            100% { transform: translateX(100px); opacity: 0; max-height: 0; margin-bottom: 0; padding-top: 0; padding-bottom: 0; overflow: hidden; }
        }

        .iphone-scroll::-webkit-scrollbar { width: 5px; }
        .iphone-scroll::-webkit-scrollbar-thumb { background: rgba(255,255,255,0.1); border-radius: 10px; }

        .live-dot {
            width: 8px; height: 8px; background: #10b981; border-radius: 50%; display: inline-block;
            box-shadow: 0 0 10px #10b981; animation: pulse-live 2s infinite;
        }

        @keyframes pulse-live {
            0% { transform: scale(1); opacity: 1; }
            50% { transform: scale(1.5); opacity: 0.5; }
            100% { transform: scale(1); opacity: 1; }
        }

        #notify-toast { position: fixed; bottom: 30px; right: 30px; z-index: 1000; display: flex; flex-direction: column; gap: 10px; }
        
        .toast {
            background: rgba(15, 23, 42, 0.9); border: 1px solid var(--glass-border);
            padding: 16px 24px; border-radius: 16px; display: flex; align-items: center; gap: 12px;
            animation: toastIn 0.5s cubic-bezier(0.175, 0.885, 0.32, 1.275);
            box-shadow: 0 20px 40px rgba(0,0,0,0.4);
        }

        @keyframes toastIn { from { transform: translateX(100%); opacity: 0; } to { transform: translateX(0); opacity: 1; } }
    </style>
</head>
<body class="p-4 md:p-8">

    <div id="notify-toast"></div>

    <!-- Header -->
    <header class="max-w-[1500px] mx-auto flex flex-col lg:flex-row justify-between items-start lg:items-center mb-10 gap-6">
        <div class="flex items-center gap-5">
            <div class="w-16 h-16 rounded-3xl bg-gradient-to-tr from-purple-600 to-blue-600 flex items-center justify-center">
                <i data-lucide="layout-grid" class="text-white w-9 h-9"></i>
            </div>
            <div>
                <h1 class="text-3xl font-black text-white">ইউনিয়ন কন্ট্রোল সেন্টার</h1>
                <p class="text-slate-400 text-sm flex items-center gap-2">
                    <span class="live-dot"></span> সাদেকপুর ইউনিয়ন পরিষদ | ৫০টি স্কুল মনিটর করা হচ্ছে
                </p>
            </div>
        </div>
        
        <div class="flex items-center gap-4">
            <div class="glass-card px-5 py-3 flex items-center gap-6">
                <div class="text-center">
                    <p class="text-[10px] text-slate-500 uppercase font-bold tracking-widest">সার্ভার টাইম</p>
                    <p class="text-sm font-mono text-blue-400" id="clock">00:00:00</p>
                </div>
                <button onclick="window.location.href='../auth/login.html'" class="text-red-500/80 hover:text-red-400 transition-all">
                    <i data-lucide="log-out" class="w-6 h-6"></i>
                </button>
            </div>
        </div>
    </header>

    <main class="max-w-[1500px] mx-auto grid grid-cols-1 xl:grid-cols-12 gap-8">
        
        <!--  List -->
        <div class="xl:col-span-8 space-y-8">
            <div class="grid grid-cols-1 sm:grid-cols-3 gap-6">
                <div class="glass-card p-6 border-l-4 border-l-blue-500">
                    <p class="text-slate-500 text-xs font-bold uppercase mb-2">মোট শিক্ষার্থী</p>
                    <h2 class="text-3xl font-black">৫,২৪০</h2>
                </div>
                <div class="glass-card p-6 border-l-4 border-l-purple-500">
                    <p class="text-slate-500 text-xs font-bold uppercase mb-2">গড় উপস্থিতি</p>
                    <h2 class="text-3xl font-black text-purple-400">৯১.৮%</h2>
                </div>
                <div class="glass-card p-6 border-l-4 border-l-red-500">
                    <p class="text-slate-500 text-xs font-bold uppercase mb-2">অফলাইন স্কুল</p>
                    <h2 class="text-3xl font-black text-red-500">০৩</h2>
                </div>
            </div>

            <div class="glass-card overflow-hidden">
                <div class="p-6 border-b border-white/5 bg-white/[0.01]">
                    <h3 class="font-bold text-xl flex items-center gap-2">
                        <i data-lucide="building-2" class="text-blue-500"></i> স্কুল নেটওয়ার্ক স্ট্যাটাস
                    </h3>
                </div>
                <div class="overflow-y-auto max-h-[600px] iphone-scroll">
                    <table class="w-full text-left">
                        <thead class="sticky top-0 bg-[#020408] border-b border-white/10 z-10 text-[10px] text-slate-500 font-black uppercase">
                            <tr>
                                <th class="p-6">র‍্যাঙ্ক/স্কুল</th>
                                <th class="p-6">শিক্ষার্থী</th>
                                <th class="p-6">উপস্থিতি</th>
                                <th class="p-6">অবস্থা</th>
                                <th class="p-6 text-right">অ্যাকশন</th>
                            </tr>
                        </thead>
                        <tbody id="-list" class="divide-y divide-white/5"></tbody>
                    </table>
                </div>
            </div>
        </div>

        <!-- Right Column (Requests & Alerts) -->
        <div class="xl:col-span-4 space-y-8">
            <!-- Resource Requests Container -->
            <div class="glass-card p-8 border-t-4 border-t-purple-500">
                <h3 class="text-lg font-bold mb-6 flex items-center gap-2">
                    <i data-lucide="package" class="text-purple-500 w-5 h-5"></i> পেন্ডিং রিকোয়েস্ট
                </h3>
                <div id="request-container" class="space-y-4">
                    <!-- Cards will be injected by JS to allow removal -->
                </div>
            </div>

            <!-- Teacher Alerts Container -->
            <div class="glass-card p-8 bg-red-500/[0.02]">
                <h3 class="text-lg font-bold mb-6 text-red-400 flex items-center gap-2">
                    <i data-lucide="user-x" class="w-5 h-5"></i> টিচার সার্ভেইল্যান্স
                </h3>
                <div id="teacher-container" class="space-y-4">
                    <!-- Cards will be injected by JS to allow removal -->
                </div>
            </div>

            <!-- Notice Broadcaster -->
            <div class="glass-card p-8">
                <h3 class="font-bold text-xs text-slate-500 uppercase tracking-widest mb-6">ব্রডকাস্ট নোটিশ</h3>
                <textarea id="notice-text" class="w-full bg-white/5 border border-white/10 rounded-2xl p-4 text-sm outline-none focus:border-blue-500 h-24 mb-4" placeholder="সকল স্কুলের ড্যাশবোর্ডে..."></textarea>
                <button onclick="broadcast()" class="w-full bg-blue-600 hover:bg-blue-500 py-4 rounded-2xl font-bold transition-all">নোটিশ পাঠান</button>
            </div>
        </div>
    </main>

    <script>
        lucide.createIcons();

        // 1. Clock Logic
        setInterval(() => {
            document.getElementById('clock').innerText = new Date().toLocaleTimeString();
        }, 1000);

        // 2. Data Sets
        const requests = [
            { id: 'req1', title: '১৫টি ল্যাপটপ প্রয়োজন', : 'সাদেকপুর মডেল হাই স্কুল', tag: 'IT Lab' },
            { id: 'req2', title: 'বিজ্ঞান ল্যাব সরঞ্জাম', : 'পুবাইল গার্লস একাডেমি', tag: 'Science' }
        ];

        const teacherAlerts = [
            { id: 't1', name: 'আব্দুর রহমান', dept: 'গণিত বিভাগ', : 'সাদেকপুর স্কুল' },
            { id: 't2', name: 'কামরুল হাসান', dept: 'ইংরেজি বিভাগ', : 'পুবাইল একাডেমি' }
        ];

        // 3. Render Functions
        function renderRequests() {
            const container = document.getElementById('request-container');
            container.innerHTML = requests.map(req => `
                <div id="${req.id}" class="p-4 bg-white/5 rounded-2xl border border-white/5 space-y-3 transition-all">
                    <div class="flex justify-between items-start">
                        <div>
                            <p class="text-sm font-bold">${req.title}</p>
                            <p class="text-[10px] text-slate-500">${req.}</p>
                        </div>
                        <span class="bg-blue-500/10 text-blue-400 text-[10px] px-2 py-1 rounded-md">${req.tag}</span>
                    </div>
                    <div class="flex gap-2">
                        <button onclick="removeAndNotify('${req.id}', 'আবেদনটি জেলা অফিসে ফরোয়ার্ড করা হয়েছে', 'blue')" class="flex-1 bg-purple-600/20 text-purple-400 py-2 rounded-xl text-xs font-bold hover:bg-purple-600 hover:text-white transition-all">ফরোয়ার্ড জেলা</button>
                        <button onclick="removeAndNotify('${req.id}', 'আবেদনটি বাতিল করা হয়েছে', 'red')" class="px-3 bg-red-500/10 text-red-500 rounded-xl"><i data-lucide="trash-2" class="w-4 h-4"></i></button>
                    </div>
                </div>
            `).join('');
            lucide.createIcons();
        }

        function renderTeacherAlerts() {
            const container = document.getElementById('teacher-container');
            container.innerHTML = teacherAlerts.map(t => `
                <div id="${t.id}" class="flex justify-between items-center p-4 bg-red-500/5 rounded-2xl border border-red-500/10">
                    <div>
                        <p class="text-sm font-bold">${t.name}</p>
                        <p class="text-[10px] text-slate-500">${t.dept} - ${t.}</p>
                    </div>
                    <button onclick="removeAndNotify('${t.id}', '${t.name} কে শোকজ লেটার পাঠানো হয়েছে', 'red')" class="bg-red-500 text-white px-4 py-2 rounded-xl text-[10px] font-bold">শোকজ</button>
                </div>
            `).join('');
            lucide.createIcons();
        }

        // 4. Interaction Logic (Removal + Toast)
        function removeAndNotify(id, msg, color) {
            const element = document.getElementById(id);
            if (!element) return;

            // Step 1: Add animation
            element.classList.add('remove-anim');

            // Step 2: Show Toast
            showToast(msg, color);

            // Step 3: Remove from DOM after animation
            setTimeout(() => {
                element.remove();
                // Update empty state if needed
                checkEmptyContainers();
            }, 500);
        }

        function showToast(msg, colorType) {
            const container = document.getElementById('notify-toast');
            const toast = document.createElement('div');
            toast.className = 'toast';
            const iconColor = colorType === 'red' ? '#ef4444' : '#3b82f6';
            
            toast.innerHTML = `
                <i data-lucide="info" class="w-5 h-5" style="color: ${iconColor}"></i>
                <span class="text-sm font-bold">${msg}</span>
            `;
            container.appendChild(toast);
            lucide.createIcons();

            setTimeout(() => {
                toast.style.transform = 'translateX(120%)';
                toast.style.opacity = '0';
                toast.style.transition = '0.5s';
                setTimeout(() => toast.remove(), 500);
            }, 3000);
        }

        function broadcast() {
            const text = document.getElementById('notice-text').value;
            if(!text) return showToast("নোটিশ লিখুন", "red");
            showToast("নোটিশটি সকল স্কুলের ড্যাশবোর্ডে ব্রডকাস্ট করা হয়েছে", "blue");
            document.getElementById('notice-text').value = "";
        }

        function checkEmptyContainers() {
            if(document.getElementById('request-container').children.length === 0) {
                document.getElementById('request-container').innerHTML = `<p class="text-center text-slate-600 text-xs py-4">কোন পেন্ডিং রিকোয়েস্ট নেই</p>`;
            }
            if(document.getElementById('teacher-container').children.length === 0) {
                document.getElementById('teacher-container').innerHTML = `<p class="text-center text-slate-600 text-xs py-4">সব শিক্ষক উপস্থিত আছেন</p>`;
            }
        }

        // 5. Initialize  List (Static 50 s)
        function inits() {
            const List = document.getElementById('-list');
            const s = Array.from({ length: 50 }, (_, i) => ({
                rank: i + 1,
                name: `স্কুল-${i + 1} আদর্শ বিদ্যাপীঠ`,
                students: 150 + Math.floor(Math.random() * 300),
                attend: (85 + Math.random() * 14).toFixed(1),
                online: Math.random() > 0.1
            }));

            List.innerHTML = s.map(s => `
                <tr class="hover:bg-white/[0.02] transition-all">
                    <td class="p-6">
                        <div class="flex items-center gap-4">
                            <span class="text-xs font-mono text-slate-600">#${s.rank.toString().padStart(2, '0')}</span>
                            <span class="font-bold text-sm">${s.name}</span>
                        </div>
                    </td>
                    <td class="p-6 text-slate-400 text-sm">${s.students}</td>
                    <td class="p-6">
                        <span class="text-xs font-bold ${s.attend > 92 ? 'text-green-500' : 'text-blue-500'}">${s.attend}%</span>
                    </td>
                    <td class="p-6">
                        <span class="text-[9px] font-black px-2 py-1 rounded ${s.online ? 'bg-green-500/10 text-green-500' : 'bg-red-500/10 text-red-500'}">${s.online ? 'ONLINE' : 'OFFLINE'}</span>
                    </td>
                    <td class="p-6 text-right">
                        <button onclick="showToast('${s.name} এর লাইভ সেশন কানেক্ট করা হচ্ছে', 'blue')" class="p-2 text-blue-400 hover:bg-blue-500/10 rounded-xl"><i data-lucide="monitor" class="w-4 h-4"></i></button>
                    </td>
                </tr>
            `).join('');
            lucide.createIcons();
        }

        // Run on load
        window.onload = () => {
            renderRequests();
            renderTeacherAlerts();
            inits();
        };
    </script>
</body>
</html>

